# 2장 : 이상한 나라의 객체

# 객체

## 상태

```jsx
상태는 특정 시점에 객체가 가지고 있는 정보의 집합으로 객체의 구조적 특징을 표현한다
```

상태를 이용하면 과거의 이력을 설명하지 않아도 행동의 결과를 쉽게 예측할 수 있다

- 프로퍼티 - 상태를 구성하는 모든 특징
    - 정적
- 프로퍼티 값
    - 동적

### 객체

- 링크
    - 객체 사이의 의미있는 연결
- 속성
    - 객체를 구성하는 단순한 값

### 객체지향의 기본 사상

상태와 상태를 조작하기 위한 행동을 하나의 단위로 묶는다

## 행동

```jsx
행동이란 외부의 요청 또는 수신된 메세지에 응답하기 위해 동작하고 반응하는 활동
```

객체의 행동은

- 상태에 영향을 받는다
- 상태를 변경시킨다
- 다른 객체와 협력한다
    - 메세지 사용

## 협력

객체는 다른 객체와 메세지를 통해서만 의사소통 가능하다

### 객체 행동의 결과

- 객체 자신의 상태 변경
- 행동 내에서 협력하는 다른 객체에 대한 메세지 전송

# 상태 캡슐화

```jsx
상태를 캡슐화 하는 이유

객체의 상태를 행동 집합의 뒤로 캡슐화 하는 것은 객체의 자율성을 높이고 협력을 단순하고 유연하게 만든다

```

- 메세지 송신자는 수신자의 상태 변경에 대해 전혀 알지 못한다
- 외부에서 객체에 접근할 수 있는 유일한 방법은 행동뿐이다
- 상태를 외부에 노출시키지 않고 행동을 경계로 캡슐화하는 것
    - 객체의 자율성을 높임
    - 객체의 지능 높아짐

# 식별자

```jsx
모든 객체는 식별자를 가지며 식별자를 이용해 객체를 구별한다
```

값은 식별자를 가지지 않는다

## 값

- 변하지 않는양을 모델링
    - 불변 상태
- 값이 같은지의 여부는 상태를 이용하여 판단한다
    - 동등성(equality)
    - 값의 상태가 변하지 않기 때문

## 객체

- 시간에 따라 변경되는 상태를 포함
- 행동을 통해 상태를 변경한다
- 가변 상태
    - 어린 시절의 나도 나
    - 지금의 나도 나
        - 둘의 키, 몸무게 등이  다름
- 어떤 상태에 있더라도 식별가능하다
- 식별자를 기반으로 객체가 같은지 판단한다
    - 동일성(identical)
- 참조 객체 , 엔티티로 불림
- 객체에 접근할 수 있는 유일한 방법
    - 객체가 제공하는 행동

```jsx
객체지향의 세계는 상태가 변하지 않는 값과 상태가 변하는 객체들이
서로 균형을 맞추며 조화를 이루는 사회여야 한다`
```

# 행동이 상태를 결정

```
초보자들은 객체에 필요한 상태가 무엇인지 결정하고 그 상태에 필요한 행동을 결정한다
이런 방법은 설계에 나쁜 영향을 미친다
```

1. 상태를 먼저 결정할 경우 캡슐화가 저해된다
    1. 상태가 객체 내부로 캡슐화되지 못하고 노출될 확률 높음
2. 객체를 협력자가 아닌 섬으로 만든다
3. 객체의 재사용성 저하됨

객체의 행동은 객체가 협력하면서 완수해야하는 책임을 의미한다

### 어떤 책임이 필요한가를 결정하는 과정이 전체 설계를 주도해야한다

### 행동이 상태를 결정한다

# 추상화

```
실제 사물에서 자신이 원하는 특성만 취하고 필요없는 부분을 추려 핵심만 표현하는 행위
```

## 위인화

현실의 객체보다 더 많은 일을 할 수 있다

### 차이점

- 현실에서 수동적인 존재가 소프트웨어 객체로 구현될때는 능동적으로 변한다
- 현실 객체의 부분적인 특징을 모방하는것이아니라 추가적인 능력을 보유한다

### 객체지향의 세계는 현실의 추상화가 아니다
현실의 모습을 조금 참조하고 새로운 세계를 창조한다
현실의 객체보다 더 많은 특징과 능력을 보유한 객체들로 넘쳐난다

# 은유

```
은유의 본질은 한 종류의 사물을 다른 종류의 사물 관점에서 이해하고 경험하는데 있다
```

현실 객체의 의미 일부가 소프트웨어 객체로 전달되기 때문에 프로그램 내의 객체는 현실 객체에 대한 은유다

- 표현적 차이
    - 현실 객체의 이름을 sw객체의 이름으로 사용하면 표현적 차이를 줄여 sw의 구조를 쉽게 예측 가능하다
        - 그래서 이해하기 쉽고 유지보수가 용이해진다

- 의미적 차이

```
이상한 나라의 앨리스에 나오는 트럼프 병정, 채셔 고양이 , 토끼의 실제 모습은 현실과 거리가 멀다

하지만 트럼프 카드가 쉽게 뒤집히고 채셔 고양이는 야옹 소리를 내며 토끼는 빠르게 달릴거라고

**쉽게 예상이 가능하다**

이는 루이스 캐럴이 현실 객체를 바탕으로 **은유**를 통해 이상한나라의 객체를 묘사하고 있기 때문이다
```

### 객체지향 설계자는 현실을 모방하는게 아니라 이상한 나라를 창조하는 것이다

객체의 특성을 상기시킬 수 있다면 현실 객체의 이름을 이용하여 묘사해라

그렇지 않으면 현실을 무시하고 새로운 세계를 창조해라