# 3장 : 타입과 추상화

# 추상화

```
현실에서 출발하되 불필요한 부분을 도려내가면서 사물의 놀라운 본질을 드러내는 과정
```

### 뜻

불필요한 부분을 무시함으로써 현실에 존재하는 복잡성 극복하고 이해하기 쉽게 만드는 것

**단 목적에 부합해야함**

### 추상화의 2가지 차원

- 사물들간의 공통점은 취하고 차이점을 버리는 **일반화**를 통해 단순하게 만듬
    - 몸이 납작하고 두 손, 두 발이 네모난 몸에 달려 있는 개체는 트럼프
- 중요한 부분을 강조하기 위해 불필요한 **세부사항 제거**
    - 위에것을 제외하고 나머지는 무시함 (남자 , 여자 등)

### 해리 벡의 지하철 노선도

- 지도가 당연히 가져야 한다는 정확상을 버림
- 목적에 집중함
    - 연결성에 집중
        - 사용자들이 열자를 갈아타야함
    - 지형때문에 골치아플 필요 없음

# 개념

공통점을 기반으로 객체를 묶기 위한 그릇

객체들의 복잡성을 극복하기 위한 추상화 도구

```
앨리슨는 토끼, 하트여왕, 트럼프 병정들은 객체다
이 중에서 몸이 납작하고 두 손, 두 발이 네모난 몸에 달려 있는 개체만을 트럼프라는 개념으로 추상화
트럼프는 공통점을 가진 객체들을 포괄할 수 있는 개념이다
```

### 인스턴스

객체 = 특정한 개념을 적용할 수 있는 구체적인 사물

**개념이 객체에 적용됐을때 객체를 개념의 인스턴스** 라고 한다

## 개념의 3가지 분류

- 심볼 : 개념을 가르키는 간략한 이름이나 명칭
    - 트럼프
- 내연 : 개념의 완전한 정의 , 내연의 의미를 이용해 객체가 개념에 속하는지 여부 확인
    - 몸이 납작하고 두 손과 두 발은 네모난 몸에 달려 있는 등장인물
- 외연 : 정원사, 병사, 신하,하트여왕 등

# 분류

- 객체에 특정한 개념을 적용하는 작업이다.
- 객체지향의 가장 중요한 개념중 하나
    - 어떤 객체를 어떤 개념으로 분류할지에 따라 객체지향의 품질 결정

# 타입

타입은 개념과 동일하지만 컴퓨터의 세계에서는 기계적인 의미가 적용된다

1. 타입은 데이터가 어떻게 사용되느냐에 관한 것
    1. 어떤 데이터에 어떤 연산자를 적용할 수 있는지가 타입을 결정
2. 타입에 속한 데이터를 메모리에 어떻게 표현하는지는 외부로부터 감춰짐
    1. 숫자 데이터에 사용 가능한 산술 연산자를 알고 있다면 메모리 내부에 숫자가 어떤 방식으로 저장되는지 몰라도 숫자 데이터 사용 가능

### 데이터 타입

```
메모리안에 저장된 데이터의 종류를 분류하는데 사용하는 메모리 집합에 관한 메타데이터

데이터에 대한 분류는 암시적으로 어떤 종류의 연산이 해당 데이터에 대해 수행되는지 결정
```

## 객체의 타입

**객체의 타입을 결정하는것은 객체의 행동 뿐이다**

1. 객체가 수행하는 행동에 따라 어떤 타입에 속하는지 결정됨
    1. 동일한 행동 수행할 수 있다면 동일한 타입
2. 객체 내부의 상태를 어떤 방식으로 표현해도 무방

같은 타입의 객체는 행동만 동일하면 서로 다른 데이터 가질 수 있다

동일한 행동 → 동일한 책임 → 동일한 메세지 수신

그래서 동일한 타입의 객체는 내부 데이터 표현이 달라도 동일 메세지 처리가능

### 다형성

```
동일한 요청에 대해 서로 다른 방식으로 응답할 수 있는 능력
```

다형적 객체들은 동일한 타입이다

### 캡슐화

```
훌륭한 객체지향 설계는 외부에 행동만을 제공하고 데이터는 행동 뒤로 감춰야한다
```

책임 -주도 설계는 데이터를 먼저 설계하는 데이터 주도 설계의 단점을 개선하기 위해 고안됨

# 일반화/ 특수화 관계

객체지향에서 일반화/특수화 관계를 결정하는 것은 행동이다

### 일반화/특수화 관계 성립하려면

한 타입이 다른 타입보다 더 특수하게 행동해야 하고

한 타입은 다른 타입보다 더 일반적으로 행동해야함

일반적 타입(Supertype)은 특수한 타입보다 더 적은 수의 행동을 가지고

특수한 타입(Subtype)은 일반적인 타입보다 더 많은 행동을 가진다

### 예시

트럼프 : 트럼프 인간의 일반화

트럼프의 모든 행동을 트럼프 인간이 공통적으로 수행 가능

트럼프 인간 : 트럼프의 특수화

트럼프가 가진 모든 행동할 수 있음

자신에게만 특수화된 행동 추가적으로 가능

일반적 타입은 특수한 타입보다 더 작은 수의 행동 가짐

하지만 더 큰 크기의 외연 집합을 가진다

어떤 타입을 다른 타입의 서브타입이라고 말할  수 있으려면 다른 타입을 대체할 수 있어야한다

트럼프 인간은 납작 엎드리거나 뒤집어지기만 하는 경우에는 트럼프를 대체하더라도 무방

## 타입의 목적

타입은 동적으로 변하는 객체의 상태를 시간과 무관한 정적인  모습으로 다룰 수 있게 해줌

앨리스의 키가 1m . 3m로 계속 변한다면 변경되는 ‘키’라는 상태를 가진다고 단순화

복잡성을 부과하는 시간 요소 제거

타입을 이용하면 객체의 동적인 특성을 추상화할 수 있음

```
객체를 분류하는 기준 : 타입

타입을 나는 기준 : 행동
```

### 객체지향에서 중요한 것

- 동적으로 변하는 객체의 ‘상태’
- 상태를 변경하는 ‘행동’

클래스는 타입을 구현하기위해 프로그래밍 언어에서 제공하는 구현 메커니즘일 뿐