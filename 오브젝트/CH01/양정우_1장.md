# 객체, 설계

### 모듈

1. 모듈이란 크기와 상관 없이 클래스나 패키지, 라이브러리와 같이 프로그램을 구성하는 임의의 요소를 의미한다.
2. 모든 모듈은 제대로 실행돼야 하고, 변경이 용이해야 하며, 이해하기 쉬워야 한다.

### 의존성, 결합도

1. 하나의 클래스나 메서드에서 많은 세부사항을 다루기 때문에 코드를 작성하는 사람과 읽는 사람에게 큰 부담을 준다. 더 큰 문제는 한 클래스를 변경할 경우, 다른 클래스도 `함께 변경해야` 한다는 사실이다.
    
    → 즉, 객체 사이의 의존성과 관련된 문제. 의존성은 어떤 객체가 변경될 때, 그 객체에게 의존하는 다른 객체도 함께 변경될 수 있다는 사실이 내포돼 있다.
    
2. 그러나 의존성을 없애는 것이 정답이 아니다. 우리의 목표는 애플리케이션의 기능을 구현하는 데 필요한 최소한의 의존성만 유지하고 불필요한 의존성을 제거하는 것이다.
3. 의존성이 과한 경우 `결합도가 높다`고 한다. 결합도는 변경과 관련이 있다. 결합도가 높을수록  엮인 객체들이 같이 변경될 확률도 높아진다. → 변경이 어려움. 
4. 설계의 목표는 `객체 사이의 결합도를 낮춰 변경이 용이한 설계를 만드는 것`이다. 

### 자율성

1. 모든 객체들이 자율적인 존재가 되어야 한다.
2. `캡슐화`: 개념적이나 물리적으로 객체 내부의 세부 사항을 감추는 것. 목적은 변경하기 쉬운 객체를 만드는 것이다. 캡슐화를 통해 객체 내부로의 접근을 제한하면 객체와 객체 사이의 결합도 ↓ → 변경 용이.
3. 객체를 인터페이스와 구현으로 나누고, 인터페이스만 공개하는 것은 객체 사이의 결합도를 낮추고 변경하기 쉬운 코드를 작성하기 위해 따라야 하는 가장 기본적인 설계 원칙이다.

### 캡슐화와 응집도

1. 객체 내부 상태를 캡슐화하고, 객체 간에 메시지를 통해서만 상호작용하도록 만드는 것이 중요.
2. 밀접하게 `연관된 작업만을 수행`하고 연관성 없는 작업은 `다른 객체에게 위임`하는 객체를 `응집도가 높다`고 한다.
3. 응집도를 높이기 위해서는 객체 스스로 자신의 데이터를 책임져야 한다. 객체는 자신의 데이터를 스스로 처리하는 자율적인 존재여야 한다.
4. 외부의 간섭을 최대한 배제하고 메시지를 통해서만 협력하는 자율적인 객체들의 공동체를 만드는 것이 훌륭한 객체지향 설계를 얻을 수 있는 지름길이다.

### 절차지향과 객체지향

1. 절차지향 방식으로 작성된 코드(책의 예시)는 모든 처리가 하나의 클래스 안에 위치하고 나머지 클래스는 단지 데이터의 역할만 수행한다. 이는 변경이 용이하지 않다. 
2. 데이터와 프로세스가 동일한 모듈 내부에 위치하도록 하는 방식을 객체지향 프로그래밍이라고 한다.

### 책임(기능)의 이동

1. 적절한 객체에게 적절한 책임을 할당해야 한다.
2. 객체는 다른 객체와의 협력이라는 문맥 안에서 특정 역할을 수행하는 데 필요한 적절한 책임을 수행해야 한다.
3. 객체에 어떤 책임을 할당할 것인지가 중요.

```
불필요한 세부사항을 객체 내부로 캡슐화 → 의존성 제거 → 결합도 ↓ → 응집도 ↑ → 자율성 ↑
```

### 설계의 중요성

1. 설계가 중요한 이유는 요구사항이 항상 변경되기 때문이다.
2. 변경 용이한 설계가 중요한 이유는 요구사항 변경으로 인해 코드 수정 시 `버그가 추가될 가능성이 높기` 때문이다.  
3. 요구사항 변경 → 코드 수정 초래 → 버그 발생 가능성 ↑ → 코드 수정 회피 
4. 요구사항 변경으로 인해 버그를 추가할지도 모른다는 불확실성에 기인하기 때문에 두려움이 생기는 것이다.
5. 따라서 `변경에 유연하게 대응할 수 있는 코드`를 작성해야 한다.
